<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Prize.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">sourcecode</a> &gt; <a href="index.html" class="el_package">com.mpos.lottery.te.gameimpl.extraball.prize.web</a> &gt; <span class="el_source">Prize.java</span></div><h1>Prize.java</h1><pre class="source lang-java linenums">package com.mpos.lottery.te.gameimpl.extraball.prize.web;

import com.mpos.lottery.te.gamespec.game.BaseOperationParameter;
import com.mpos.lottery.te.gamespec.game.Game;
import com.mpos.lottery.te.gamespec.sale.BaseTicket;

import java.math.BigDecimal;
import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;

public class Prize implements java.io.Serializable {
    private static final long serialVersionUID = -5323741083713431721L;
    /**
     * If payout mode is refund, the sum of future game instances should be returned to customer.
     */
<span class="nc" id="L17">    private BigDecimal returnAmount = new BigDecimal(&quot;0&quot;);</span>
    /**
     * The prize amount(before tax).
     */
<span class="nc" id="L21">    private BigDecimal prizeAmount = new BigDecimal(&quot;0&quot;);</span>
    /**
     * The tax amount of prize.
     */
<span class="nc" id="L25">    private BigDecimal taxAmount = new BigDecimal(&quot;0&quot;);</span>
    /**
     * actualAmount := prizeAmount + returnAmount - taxAmount.
     */
<span class="nc" id="L29">    private BigDecimal actualAmount = new BigDecimal(&quot;0&quot;);</span>
    /**
     * Refer to {@link com.mpos.lottery.te.gamespec.game.BaseOperationParameter#PAYOUTMODE_REFUND}.
     */
<span class="nc" id="L33">    private int payoutMode = BaseOperationParameter.PAYOUTMODE_PRINTNEWTICKET;</span>
    // private boolean isVerifyPIN;
    /**
     * The newly generated tickets which need to be returned to customer.
     */
<span class="nc" id="L38">    private List&lt;BaseTicket&gt; generatedTickets = new LinkedList&lt;BaseTicket&gt;();</span>
    /**
     * For a multple-draw ticket, for example 3 draws, and the 1st game instance is payout started, 2nd is active , 3rd
     * is new...here ticket assocites with 1st game instance will be categoried into paidTickets, while tickets
     * assocaite with 2nd and 3rd game instance will be categoried into futureTickes, for system may generate new
     * tickets for them.
     */
<span class="nc" id="L45">    private List&lt;BaseTicket&gt; paidTickets = new LinkedList&lt;BaseTicket&gt;();</span>
<span class="nc" id="L46">    private List&lt;BaseTicket&gt; futureTickets = new LinkedList&lt;BaseTicket&gt;();</span>
    /**
     * The physical ticket wins the prize.
     */
    private BaseTicket winningTicket;
    /**
     * Only one PrizeItemDto associate with a single game instance.
     */
<span class="nc" id="L54">    private List&lt;PrizeItem&gt; prizeItems = new LinkedList&lt;PrizeItem&gt;();</span>
    /**
     * The game information of winning ticket.
     */
    private Game game;

<span class="nc" id="L60">    public Prize() {</span>
<span class="nc" id="L61">    }</span>

    public PrizeItem lookupPrizeItem(String keyOfGameInstance) {
<span class="nc bnc" id="L64" title="All 2 branches missed.">        for (PrizeItem prizeItem : this.prizeItems) {</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">            if (keyOfGameInstance == prizeItem.getGameInstance().getKey()) {</span>
<span class="nc" id="L66">                return prizeItem;</span>
            }
<span class="nc" id="L68">        }</span>
<span class="nc" id="L69">        return null;</span>
    }

    public void addPrizeItem(PrizeItem prizeItem) {
<span class="nc" id="L73">        this.prizeItems.add(prizeItem);</span>
<span class="nc" id="L74">    }</span>

    public Iterator&lt;PrizeItem&gt; iterator() {
<span class="nc" id="L77">        return this.prizeItems.iterator();</span>
    }

    public BigDecimal getReturnAmount() {
<span class="nc" id="L81">        return returnAmount;</span>
    }

    public void setReturnAmount(BigDecimal returnAmount) {
<span class="nc" id="L85">        this.returnAmount = returnAmount;</span>
<span class="nc" id="L86">    }</span>

    public BigDecimal getPrizeAmount() {
<span class="nc" id="L89">        return prizeAmount;</span>
    }

    public void setPrizeAmount(BigDecimal prizeAmount) {
<span class="nc" id="L93">        this.prizeAmount = prizeAmount;</span>
<span class="nc" id="L94">    }</span>

    public BigDecimal getTaxAmount() {
<span class="nc" id="L97">        return taxAmount;</span>
    }

    public void setTaxAmount(BigDecimal taxAmount) {
<span class="nc" id="L101">        this.taxAmount = taxAmount;</span>
<span class="nc" id="L102">    }</span>

    public BigDecimal getActualAmount() {
<span class="nc" id="L105">        return actualAmount;</span>
    }

    public void setActualAmount(BigDecimal actualAmount) {
<span class="nc" id="L109">        this.actualAmount = actualAmount;</span>
<span class="nc" id="L110">    }</span>

    public int getPayoutMode() {
<span class="nc" id="L113">        return payoutMode;</span>
    }

    public void setPayoutMode(int payoutMode) {
<span class="nc" id="L117">        this.payoutMode = payoutMode;</span>
<span class="nc" id="L118">    }</span>

    public List&lt;BaseTicket&gt; getGeneratedTickets() {
<span class="nc" id="L121">        return generatedTickets;</span>
    }

    public void setGeneratedTickets(List&lt;BaseTicket&gt; generatedTickets) {
<span class="nc" id="L125">        this.generatedTickets = generatedTickets;</span>
<span class="nc" id="L126">    }</span>

    public BaseTicket getWinningTicket() {
<span class="nc" id="L129">        return winningTicket;</span>
    }

    public void setWinningTicket(BaseTicket winningTicket) {
<span class="nc" id="L133">        this.winningTicket = winningTicket;</span>
<span class="nc" id="L134">    }</span>

    public List&lt;BaseTicket&gt; getPaidTickets() {
<span class="nc" id="L137">        return paidTickets;</span>
    }

    public void setPaidTickets(List&lt;BaseTicket&gt; paidTickets) {
<span class="nc" id="L141">        this.paidTickets = paidTickets;</span>
<span class="nc" id="L142">    }</span>

    public List&lt;BaseTicket&gt; getFutureTickets() {
<span class="nc" id="L145">        return futureTickets;</span>
    }

    public void setFutureTickets(List&lt;BaseTicket&gt; futureTickets) {
<span class="nc" id="L149">        this.futureTickets = futureTickets;</span>
<span class="nc" id="L150">    }</span>

    public Game getGame() {
<span class="nc" id="L153">        return game;</span>
    }

    public void setGame(Game game) {
<span class="nc" id="L157">        this.game = game;</span>
<span class="nc" id="L158">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.2.201302030002</span></div></body></html>