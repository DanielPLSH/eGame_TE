<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>GameType.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">sourcecode</a> &gt; <a href="index.html" class="el_package">com.mpos.lottery.te.gamespec.game</a> &gt; <span class="el_source">GameType.java</span></div><h1>GameType.java</h1><pre class="source lang-java linenums">package com.mpos.lottery.te.gamespec.game;

import com.mpos.lottery.te.config.exception.SystemException;
import com.mpos.lottery.te.gameimpl.bingo.game.BingoFunType;
import com.mpos.lottery.te.gameimpl.bingo.game.BingoGameInstance;
import com.mpos.lottery.te.gameimpl.bingo.game.BingoOperationParameter;
import com.mpos.lottery.te.gameimpl.bingo.prize.BingoWinningItem;
import com.mpos.lottery.te.gameimpl.bingo.prize.BingoWinningStatistics;
import com.mpos.lottery.te.gameimpl.bingo.sale.BingoEntry;
import com.mpos.lottery.te.gameimpl.bingo.sale.BingoTicket;
import com.mpos.lottery.te.gameimpl.digital.game.DigitalFunType;
import com.mpos.lottery.te.gameimpl.digital.game.DigitalGameInstance;
import com.mpos.lottery.te.gameimpl.digital.game.DigitalOperationParameter;
import com.mpos.lottery.te.gameimpl.digital.prize.DigitalWinningItem;
import com.mpos.lottery.te.gameimpl.digital.prize.DigitalWinningStatistics;
import com.mpos.lottery.te.gameimpl.digital.sale.DigitalEntry;
import com.mpos.lottery.te.gameimpl.digital.sale.DigitalTicket;
import com.mpos.lottery.te.gameimpl.extraball.prize.ExtraBallWinningItem;
import com.mpos.lottery.te.gameimpl.extraball.sale.ExtraBallEntry;
import com.mpos.lottery.te.gameimpl.extraball.sale.ExtraBallTicket;
import com.mpos.lottery.te.gameimpl.lfn.game.LfnFunType;
import com.mpos.lottery.te.gameimpl.lfn.game.LfnGameInstance;
import com.mpos.lottery.te.gameimpl.lfn.game.LfnOperationParameter;
import com.mpos.lottery.te.gameimpl.lfn.prize.LfnWinningItem;
import com.mpos.lottery.te.gameimpl.lfn.sale.LfnEntry;
import com.mpos.lottery.te.gameimpl.lfn.sale.LfnTicket;
import com.mpos.lottery.te.gameimpl.lotto.draw.LottoOperationParameter;
import com.mpos.lottery.te.gameimpl.lotto.draw.domain.LottoFunType;
import com.mpos.lottery.te.gameimpl.lotto.draw.domain.LottoGameInstance;
import com.mpos.lottery.te.gameimpl.lotto.prize.domain.WinningItem;
import com.mpos.lottery.te.gameimpl.lotto.prize.domain.WinningStatistics;
import com.mpos.lottery.te.gameimpl.lotto.sale.domain.LottoEntry;
import com.mpos.lottery.te.gameimpl.lotto.sale.domain.LottoTicket;
import com.mpos.lottery.te.gameimpl.magic100.game.Magic100GameInstance;
import com.mpos.lottery.te.gameimpl.magic100.game.Magic100OperationParameter;
import com.mpos.lottery.te.gameimpl.magic100.sale.Magic100Entry;
import com.mpos.lottery.te.gameimpl.magic100.sale.Magic100Ticket;
import com.mpos.lottery.te.gameimpl.raffle.game.RaffleGameInstance;
import com.mpos.lottery.te.gameimpl.raffle.game.RaffleOperationParameter;
import com.mpos.lottery.te.gameimpl.raffle.prize.RaffleWinning;
import com.mpos.lottery.te.gameimpl.raffle.sale.RaffleTicket;
import com.mpos.lottery.te.gameimpl.toto.domain.ToToEntry;
import com.mpos.lottery.te.gameimpl.toto.domain.ToToGameInstance;
import com.mpos.lottery.te.gameimpl.toto.domain.ToToTicket;
import com.mpos.lottery.te.gameimpl.toto.domain.ToToWinningItem;
import com.mpos.lottery.te.gameimpl.toto.domain.ToToWinningStatistics;
import com.mpos.lottery.te.gameimpl.union.game.UnionFunType;
import com.mpos.lottery.te.gameimpl.union.game.UnionGameInstance;
import com.mpos.lottery.te.gameimpl.union.game.UnionOperationParameter;
import com.mpos.lottery.te.gameimpl.union.prize.UnionWinningItem;
import com.mpos.lottery.te.gameimpl.union.prize.UnionWinningStatistics;
import com.mpos.lottery.te.gameimpl.union.sale.UnionEntry;
import com.mpos.lottery.te.gameimpl.union.sale.UnionTicket;
import com.mpos.lottery.te.gamespec.prize.BaseWinningItem;
import com.mpos.lottery.te.gamespec.prize.BaseWinningStatistics;
import com.mpos.lottery.te.gamespec.sale.BaseEntry;
import com.mpos.lottery.te.gamespec.sale.BaseTicket;

<span class="pc" id="L59">public enum GameType {</span>
<span class="fc" id="L60">    VAS(1000),</span>
<span class="fc" id="L61">    VAT(-2),</span>
<span class="fc" id="L62">    UNDEF(-1),</span>
<span class="fc" id="L63">    LOTTO(</span>
            1,
            false,
            LottoGameInstance.class,
            LottoFunType.class,
            LottoOperationParameter.class,
            LottoTicket.class,
            LottoEntry.class,
            WinningItem.class,
            WinningStatistics.class),
<span class="fc" id="L73">    SOCCER(2),</span>
<span class="fc" id="L74">    RACING(3),</span>
<span class="fc" id="L75">    IG(4),</span>
<span class="fc" id="L76">    TOTO(</span>
            5,
            false,
            ToToGameInstance.class,
            null,
            null,
            ToToTicket.class,
            ToToEntry.class,
            ToToWinningItem.class,
            ToToWinningStatistics.class),
<span class="fc" id="L86">    BINGO(</span>
            6,
            false,
            BingoGameInstance.class,
            BingoFunType.class,
            BingoOperationParameter.class,
            BingoTicket.class,
            BingoEntry.class,
            BingoWinningItem.class,
            BingoWinningStatistics.class),
<span class="fc" id="L96">    DIGITAL(</span>
            7,
            true,
            DigitalGameInstance.class,
            DigitalFunType.class,
            DigitalOperationParameter.class,
            DigitalTicket.class,
            DigitalEntry.class,
            DigitalWinningItem.class,
            DigitalWinningStatistics.class),
<span class="fc" id="L106">    UNION(</span>
            8,
            true,
            UnionGameInstance.class,
            UnionFunType.class,
            UnionOperationParameter.class,
            UnionTicket.class,
            UnionEntry.class,
            UnionWinningItem.class,
            UnionWinningStatistics.class),
<span class="fc" id="L116">    EIG(9),</span>
<span class="fc" id="L117">    LEGAL_RAFFLE(10),</span>
<span class="fc" id="L118">    VOUCHER(12),</span>
<span class="fc" id="L119">    EXTRABALL(</span>
            13,
            false,
            null,
            null,
            null,
            ExtraBallTicket.class,
            ExtraBallEntry.class,
            ExtraBallWinningItem.class,
            null),
<span class="fc" id="L129">    RAFFLE(</span>
            14,
            false,
            RaffleGameInstance.class,
            null,
            RaffleOperationParameter.class,
            RaffleTicket.class,
            null,
            RaffleWinning.class,
            null),
<span class="fc" id="L139">    LFN(</span>
            15,
            true,
            LfnGameInstance.class,
            LfnFunType.class,
            LfnOperationParameter.class,
            LfnTicket.class,
            LfnEntry.class,
            LfnWinningItem.class,
            null),
<span class="fc" id="L149">    LUCKYNUMBER(</span>
            18,
            true,
            Magic100GameInstance.class,
            null,
            Magic100OperationParameter.class,
            Magic100Ticket.class,
            Magic100Entry.class,
            null,
            null),
<span class="fc" id="L159">    LUCKYDRAW(19),</span>
<span class="fc" id="L160">    AIRTIME(1000),</span>
<span class="fc" id="L161">    TELECO_VOUCHER(1001);</span>

    private int type;
    /**
     * If the prize logic of game type is Fix amount or Odds, it can be regarded as fixed-prize, as the turnover won't
     * affect his prize amount. The prize level definition will be ignored for this kind of game type.
     */
    private boolean fixedPrize;
    // define the meta information of game type.
    private Class&lt;? extends BaseGameInstance&gt; gameInstanceType;
    private Class&lt;? extends BaseFunType&gt; funType;
    private Class&lt;? extends BaseOperationParameter&gt; operationParametersType;
    private Class&lt;? extends BaseTicket&gt; ticketType;
    private Class&lt;? extends BaseEntry&gt; ticketEntryType;
    private Class&lt;? extends BaseWinningItem&gt; winningItemType;
    private Class&lt;? extends BaseWinningStatistics&gt; winningStatisticsType;

    private GameType(int type) {
<span class="fc" id="L179">        this(type, false, null, null, null, null, null, null, null);</span>
<span class="fc" id="L180">    }</span>

    private GameType(int type, boolean fixedPrize, Class&lt;? extends BaseGameInstance&gt; gameInstanceType,
            Class&lt;? extends BaseFunType&gt; funType, Class&lt;? extends BaseOperationParameter&gt; operationParametersType,
            Class&lt;? extends BaseTicket&gt; ticketType, Class&lt;? extends BaseEntry&gt; ticketEntryType,
            Class&lt;? extends BaseWinningItem&gt; winningItemType,
<span class="fc" id="L186">            Class&lt;? extends BaseWinningStatistics&gt; winningStatisticsType) {</span>
<span class="fc" id="L187">        this.type = type;</span>
<span class="fc" id="L188">        this.fixedPrize = fixedPrize;</span>
<span class="fc" id="L189">        this.funType = funType;</span>
<span class="fc" id="L190">        this.gameInstanceType = gameInstanceType;</span>
<span class="fc" id="L191">        this.operationParametersType = operationParametersType;</span>
<span class="fc" id="L192">        this.ticketEntryType = ticketEntryType;</span>
<span class="fc" id="L193">        this.ticketType = ticketType;</span>
<span class="fc" id="L194">        this.winningItemType = winningItemType;</span>
<span class="fc" id="L195">        this.winningStatisticsType = winningStatisticsType;</span>
<span class="fc" id="L196">    }</span>

    /**
     * Build a &lt;code&gt;GameType&lt;/code&gt; instance from its primitive value.
     */
    public static GameType fromType(int gameType) {
<span class="fc" id="L202">        GameType[] types = GameType.values();</span>
<span class="fc bfc" id="L203" title="All 2 branches covered.">        for (int i = 0; i &lt; types.length; i++) {</span>
<span class="fc bfc" id="L204" title="All 2 branches covered.">            if (gameType == types[i].getType()) {</span>
<span class="fc" id="L205">                return types[i];</span>
            }
        }
<span class="fc" id="L208">        throw new SystemException(SystemException.CODE_UNSUPPORTED_TRANSTYPE, &quot;Unsupported game type:&quot; + gameType);</span>
    }

    public int getType() {
<span class="fc" id="L212">        return type;</span>
    }

    public boolean isFixedPrize() {
<span class="fc" id="L216">        return this.fixedPrize;</span>
    }

    public Class&lt;? extends BaseGameInstance&gt; getGameInstanceType() {
<span class="fc" id="L220">        return gameInstanceType;</span>
    }

    public Class&lt;? extends BaseFunType&gt; getFunType() {
<span class="fc" id="L224">        return funType;</span>
    }

    public Class&lt;? extends BaseOperationParameter&gt; getOperationParametersType() {
<span class="fc" id="L228">        return operationParametersType;</span>
    }

    public Class&lt;? extends BaseTicket&gt; getTicketType() {
<span class="fc" id="L232">        return ticketType;</span>
    }

    public Class&lt;? extends BaseEntry&gt; getTicketEntryType() {
<span class="fc" id="L236">        return ticketEntryType;</span>
    }

    public Class&lt;? extends BaseWinningItem&gt; getWinningItemType() {
<span class="fc" id="L240">        return winningItemType;</span>
    }

    public Class&lt;? extends BaseWinningStatistics&gt; getWinningStatisticsType() {
<span class="nc" id="L244">        return winningStatisticsType;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.2.201302030002</span></div></body></html>