<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Fri May 29 17:11:26 CST 2015 -->
<title>UUIDService (sourcecode 2.5.2-rc7 API)</title>
<meta name="date" content="2015-05-29">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UUIDService (sourcecode 2.5.2-rc7 API)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/mpos/lottery/te/sequence/service/SequenceManager.html" title="com.mpos.lottery.te.sequence.service中的接口"><span class="strong">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/mpos/lottery/te/sequence/service/UUIDService.html" target="_top">框架</a></li>
<li><a href="UUIDService.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mpos.lottery.te.sequence.service</div>
<h2 title="接口 UUIDService" class="title">接口 UUIDService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已知实现类:</dt>
<dd><a href="../../../../../../com/mpos/lottery/te/sequence/service/impl/UUIDServiceImpl.html" title="com.mpos.lottery.te.sequence.service.impl中的类">UUIDServiceImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">UUIDService</span></pre>
<div class="block">The SequenceService must be run in a independent transaction. I SequenceService join the transaction of
 TicketService, let's image below condition: 1) SequenceService need to fetch new sequence and do update. 2)
 TicketService throw exception result in the rollback of transaction. 3) then SequenceService got the next sequence,
 but the database doesn't update the sequence. NOTE: due SequenceService will run in a transaction, here we won't
 define UUIDManager in a transaction.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getGeneralID()">getGeneralID</a></strong>()</code>
<div class="block">Get a identifier for a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getReferenceNo(int)">getReferenceNo</a></strong>(int&nbsp;saleMode)</code>
<div class="block">Retrieve a formatted reference No, for example VAT reference No.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getTicketSerialNo(int)">getTicketSerialNo</a></strong>(int&nbsp;gameType)</code>
<div class="block">The convenient method of <a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getTicketSerialNo(int,%20int)"><code>getTicketSerialNo(int, int)</code></a>, the sale mode will be set to online.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getTicketSerialNo(int,%20int)">getTicketSerialNo</a></strong>(int&nbsp;saleMode,
                 int&nbsp;gameType)</code>
<div class="block">Retrieve a formatted ticket serial number.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#reset(java.lang.String)">reset</a></strong>(java.lang.String&nbsp;sequenceName)</code>
<div class="block">Clear the cached sequence.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.math.BigInteger</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#retrieveCurrentSeq(java.lang.String)">retrieveCurrentSeq</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">Get the current value of sequence with given name.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getTicketSerialNo(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTicketSerialNo</h4>
<pre>java.lang.String&nbsp;getTicketSerialNo(int&nbsp;gameType)
                                   throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">The convenient method of <a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getTicketSerialNo(int,%20int)"><code>getTicketSerialNo(int, int)</code></a>, the sale mode will be set to online.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
<a name="getTicketSerialNo(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTicketSerialNo</h4>
<pre>java.lang.String&nbsp;getTicketSerialNo(int&nbsp;saleMode,
                                 int&nbsp;gameType)
                                   throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">Retrieve a formatted ticket serial number. Refer to <a href="../../../../../../com/mpos/lottery/te/sequence/domain/TicketSerialSpec.html" title="com.mpos.lottery.te.sequence.domain中的类"><code>TicketSerialSpec</code></a> for the format definition.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>saleMode</code> - Online sale or offline sale? Refer to <a href="../../../../../../com/mpos/lottery/te/sequence/domain/TicketSerialSpec.html#OFFLINE_MODE"><code>TicketSerialSpec.OFFLINE_MODE</code></a> and
            <a href="../../../../../../com/mpos/lottery/te/sequence/domain/TicketSerialSpec.html#ONLINE_MODE"><code>TicketSerialSpec.ONLINE_MODE</code></a></dd><dd><code>gameType</code> - THe game type of ticket.</dd>
<dt><span class="strong">返回:</span></dt><dd>a formatted ticket serial No.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
<a name="getReferenceNo(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReferenceNo</h4>
<pre>java.lang.String&nbsp;getReferenceNo(int&nbsp;saleMode)
                                throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">Retrieve a formatted reference No, for example VAT reference No. Refer to <a href="../../../../../../com/mpos/lottery/te/sequence/domain/TicketSerialSpec.html" title="com.mpos.lottery.te.sequence.domain中的类"><code>TicketSerialSpec</code></a> for the format
 definition.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>saleMode</code> - Online or offline?</dd>
<dt><span class="strong">返回:</span></dt><dd>a formatter reference No.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
<a name="getGeneralID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGeneralID</h4>
<pre>java.lang.String&nbsp;getGeneralID()
                              throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">Get a identifier for a transaction.</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
<a name="retrieveCurrentSeq(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveCurrentSeq</h4>
<pre>java.math.BigInteger&nbsp;retrieveCurrentSeq(java.lang.String&nbsp;name)
                                        throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">Get the current value of sequence with given name.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>name</code> - The name of sequence. Refer to <a href="../../../../../../com/mpos/lottery/te/sequence/domain/Sequence.html#NAME_TICKETSERIALNO"><code>Sequence.NAME_TICKETSERIALNO</code></a>, <a href="../../../../../../com/mpos/lottery/te/sequence/domain/Sequence.html#NAME_GENERAL"><code>Sequence.NAME_GENERAL</code></a></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
<a name="reset(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>void&nbsp;reset(java.lang.String&nbsp;sequenceName)
           throws <a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></pre>
<div class="block">Clear the cached sequence. After reset(), both requests to <a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getTicketSerialNo(int)"><code>getTicketSerialNo(int)</code></a> ,
 <a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getGeneralID()"><code>getGeneralID()</code></a> and <a href="../../../../../../com/mpos/lottery/te/sequence/service/UUIDService.html#getReferenceNo(int)"><code>getReferenceNo(int)</code></a> will query new sequence range from underlying database.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>sequenceName</code> - Reset the sequence with given name( <a href="../../../../../../com/mpos/lottery/te/sequence/domain/Sequence.html#NAME_TICKETSERIALNO"><code>Sequence.NAME_TICKETSERIALNO</code></a>,
            <a href="../../../../../../com/mpos/lottery/te/sequence/domain/Sequence.html#NAME_GENERAL"><code>Sequence.NAME_GENERAL</code></a>). If sequenceName is null, then this operation will reset all sequences.</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../../../com/mpos/lottery/te/config/exception/ApplicationException.html" title="com.mpos.lottery.te.config.exception中的类">ApplicationException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/mpos/lottery/te/sequence/service/SequenceManager.html" title="com.mpos.lottery.te.sequence.service中的接口"><span class="strong">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/mpos/lottery/te/sequence/service/UUIDService.html" target="_top">框架</a></li>
<li><a href="UUIDService.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
