<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" tests="8" skipped="0" failures="0" errors="0" timestamp="2015-05-29T09:14:06" hostname="Ramon-PC" time="32.631">
  <properties/>
  <testcase name="test_Topup_OK" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="2.241"/>
  <testcase name="test_Topup_IllegalAmount_NotInRange" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.035"/>
  <testcase name="test_Topup_Pending" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="30.134"/>
  <testcase name="test_Topup_NoGameAllocated" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.036"/>
  <testcase name="test_Topup_InactiveGame" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.032"/>
  <testcase name="test_Topup_IllegalAmount_NoStep" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.034"/>
  <testcase name="test_Topup_Remote_Fail" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.076"/>
  <testcase name="test_Topup_IllegalAmount_NoEnoughSaleBalance" classname="com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest" time="0.04"/>
  <system-out><![CDATA[[2015-05-29 17:14:06,035][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:06,036][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:06,036][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@201265ed) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:06,036][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:06,036][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:06,036][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_OK                                                                       |
[2015-05-29 17:14:06,037][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:06,040][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:06,049][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:06,050][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890846040|Timestamp:20150529171406|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=406995998), get digest:48fd01a75587c6206758dbdd3180d056
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171406).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890846040).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=48fd01a75587c6206758dbdd3180d056).
[2015-05-29 17:14:06,050][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:06,051][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:06,051][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:06,052][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju4662CXnXBrrj71c1vQYDwUdKEbLTIRN6l5l7KG7EnxJh7g0mSaPcpK/5RpdebVmNSP2.
[2015-05-29 17:14:06,052][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890846040|Timestamp:20150529171406|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:06,053][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:06,053][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890846040|Timestamp:20150529171406|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=406995998), get digest:48fd01a75587c6206758dbdd3180d056
[2015-05-29 17:14:06,053][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:06,053][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:06,053][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:06,062][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:06,062][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:06,062][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:06,062][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:06,067][Test worker][DEBUG][DefaultBalanceService] Found the balance node(Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0])
[2015-05-29 17:14:06,069][Test worker][DEBUG][AirtimeProviderFactory] Found AirtimeProvider(com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CooBillAirtimeProvider@1a4b78bd) for airtime provider 1
[2015-05-29 17:14:07,452][Test worker][DEBUG][CooBillAirtimeProvider] Request of transaction(14328908460697550):com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.TopupMsisdnReq@db2cf2a[agent=paygo24,password=20b7889cf6325b4644ab,msisdn=111,amout=6000,refTrx=14328908460697550]
[2015-05-29 17:14:08,216][Test worker][DEBUG][CooBillAirtimeProvider] Result of transaction(14328908460697550):com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.TopupMsisdnResult@283ef171[description=OK,status=0,transactionDate=20150529171408,transactionId=123456]
[2015-05-29 17:14:08,222][Test worker][DEBUG][DefaultBalanceService] Operator before transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:14:08,223][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:14:08,223][Test worker][DEBUG][DefaultBalanceService] Operator after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=199999940.0, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:14:08,234][Test worker][DEBUG][CommonFacadeService] Prepare to publish message to exchange[TE.455] with routing key[TE.455.1000]: id: "0115052900000000002360"
dev_id: "111"
operator_id: "OPERATOR-111"
merchant_id: "111"
create_time: 1432890846000
trans_type: 455
game_id: "AIRTIME-1"
game_type: 1000
total_amount: "60.0"

[2015-05-29 17:14:08,234][Test worker][DEBUG][CommonFacadeService] Publish message successfully
[2015-05-29 17:14:08,234][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:08,234][Test worker][DEBUG][ProtocolSerializer] Start to serialize model(class com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup),mappingFile=xml-mapping/vas/airtime/Topup_Resp.xml
[2015-05-29 17:14:08,234][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:08,246][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Resp.xml).
[2015-05-29 17:14:08,246][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890846040|Timestamp:20150529171406|Transaction-Type:4455|Transaction-Id:0115052900000000002360|Response-Code:200|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0" status="1"><Game id="AIRTIME-1"/></AirtimeTopup>):60caa13dc1b84b11d1732cc4f574b9ab
[2015-05-29 17:14:08,247][Test worker][DEBUG][TEPortServlet] Write response to client(host1=localhost,sizeOfPack=184) succesfully.
[2015-05-29 17:14:08,248][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=200,length=184): <?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0" status="1"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:08,248][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:08,267][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:08,267][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:08,267][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@118726dc) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:08,268][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:08,268][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:08,268][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NotInRange                                                 |
[2015-05-29 17:14:08,268][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:08,268][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,269][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:08,269][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848268|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="101.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=78447570), get digest:eeef7ffcd87bfa27a5068ad8089cdf5a
[2015-05-29 17:14:08,269][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:08,269][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:08,269][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171408).
[2015-05-29 17:14:08,269][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:08,269][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890848268).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=eeef7ffcd87bfa27a5068ad8089cdf5a).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:08,270][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:08,271][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju466PaA3fgc+PAko/LGm6bwz7pfHurnamfCIvEZmrN6rfBeEPy0PY56G/HFXvMI3IMQY.
[2015-05-29 17:14:08,271][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848268|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:08,272][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="101.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:08,272][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848268|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="101.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=78447570), get digest:eeef7ffcd87bfa27a5068ad8089cdf5a
[2015-05-29 17:14:08,272][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,272][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:08,272][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,287][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:08,287][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:08,287][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:08,287][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:08,291][Test worker][ERROR][TEPortServlet] The amount must be in range(10,100), however the amount is 101.0
com.mpos.lottery.te.config.exception.ApplicationException: The amount must be in range(10,100), however the amount is 101.0
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.verifyGameParameter(MultiProviderAirtimeService.java:220)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NotInRange(CoobillAirtimeTopupIntegrationTest.java:275)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:08,293][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848268|Timestamp:20150529171408|Transaction-Type:4455|Transaction-Id:0115052900000000002361|Response-Code:307|):408cd6745c34c20bacb59e5d8f0a7e1d
[2015-05-29 17:14:08,293][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=307,length=0): 
[2015-05-29 17:14:08,302][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:08,302][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:08,302][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@2a717a11) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:08,303][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:08,303][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:08,303][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_Pending                                                                  |
[2015-05-29 17:14:08,303][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:08,306][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,307][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:08,307][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848305|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="222" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=-1943011179), get digest:41a57bd7fe2329f8d01ec6e6eeae224d
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171408).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890848305).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:08,307][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=41a57bd7fe2329f8d01ec6e6eeae224d).
[2015-05-29 17:14:08,308][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:08,308][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:08,308][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:08,309][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymump7jX7sQdS4gPv83VqTF2DdSErWHnNtfxd2+6GYy9Dq3LcjxCaZeA7UcL8jceNkBzI4iENOjnHHMt3Z9Szlj+k3.
[2015-05-29 17:14:08,309][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848305|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:08,310][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="222" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:08,310][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848305|Timestamp:20150529171408|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="222" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=-1943011179), get digest:41a57bd7fe2329f8d01ec6e6eeae224d
[2015-05-29 17:14:08,310][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,310][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:08,310][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:08,319][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:08,319][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:08,319][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:08,319][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:08,324][Test worker][DEBUG][DefaultBalanceService] Found the balance node(Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0])
[2015-05-29 17:14:08,327][Test worker][DEBUG][AirtimeProviderFactory] Found AirtimeProvider(com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CooBillAirtimeProvider@1a4b78bd) for airtime provider 1
[2015-05-29 17:14:08,328][Test worker][DEBUG][CooBillAirtimeProvider] Request of transaction(14328908483276120):com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.TopupMsisdnReq@19209b1f[agent=paygo24,password=20b7889cf6325b4644ab,msisdn=222,amout=6000,refTrx=14328908483276120]
[2015-05-29 17:14:38,411][Test worker][INFO ][CooBillAirtimeProvider] Read timeout of transaction(0115052900000000002362), has scheduled a job(class com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CoobillAirtimePendingJob:airtime.airtime_job_0115052900000000002362) for this transaction.
[2015-05-29 17:14:38,416][Test worker][DEBUG][CommonFacadeService] No need to publish AMQP message of transaction(AIRTIME_TOPUP)
[2015-05-29 17:14:38,416][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:38,416][Test worker][DEBUG][ProtocolSerializer] Start to serialize model(class com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup),mappingFile=xml-mapping/vas/airtime/Topup_Resp.xml
[2015-05-29 17:14:38,416][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:38,418][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Resp.xml).
[2015-05-29 17:14:38,418][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890848305|Timestamp:20150529171408|Transaction-Type:4455|Transaction-Id:0115052900000000002362|Response-Code:700|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="222" amount="60.0" status="2"><Game id="AIRTIME-1"/></AirtimeTopup>):d0cb5d19c9c0140045735eb0f330a0e6
[2015-05-29 17:14:38,418][Test worker][DEBUG][TEPortServlet] Write response to client(host1=localhost,sizeOfPack=184) succesfully.
[2015-05-29 17:14:38,419][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=700,length=184): <?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="222" amount="60.0" status="2"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,419][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Resp.xml) by key(transtype.4455).
[2015-05-29 17:14:38,437][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:38,438][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:38,438][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@4ee6b373) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:38,438][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:38,438][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,438][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_NoGameAllocated                                                          |
[2015-05-29 17:14:38,438][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,442][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,442][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:38,443][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878442|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=193453590), get digest:c5df814a287063916d1e605426028ad6
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171438).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890878442).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=c5df814a287063916d1e605426028ad6).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:38,443][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:38,445][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju4662CXnXBrrj71c1vQYDwUdKEbLTIRN6l5l7KG7EnxJh7g0mSaPcpK/5RpdebVmNSP2.
[2015-05-29 17:14:38,445][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878442|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:38,446][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,446][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878442|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=193453590), get digest:c5df814a287063916d1e605426028ad6
[2015-05-29 17:14:38,446][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,446][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:38,446][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,459][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:38,459][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:38,459][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:38,459][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:38,462][Test worker][ERROR][TEPortServlet] operator(id=OPERATOR-111) has no priviledge to sell ticket of game 'AIRTIME-1', allocate the game to its merchant first.
com.mpos.lottery.te.config.exception.SystemException: operator(id=OPERATOR-111) has no priviledge to sell ticket of game 'AIRTIME-1', allocate the game to its merchant first.
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.verifyGameAllocation(MultiProviderAirtimeService.java:202)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_NoGameAllocated(CoobillAirtimeTopupIntegrationTest.java:338)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:38,464][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878442|Timestamp:20150529171438|Transaction-Type:4455|Transaction-Id:0115052900000000002363|Response-Code:225|):6da50d6bbe6c3b24ed9e729940464d11
[2015-05-29 17:14:38,464][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=225,length=0): 
[2015-05-29 17:14:38,474][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:38,474][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:38,474][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@16e7d457) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:38,474][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:38,475][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,475][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_InactiveGame                                                             |
[2015-05-29 17:14:38,475][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,476][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,477][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:38,478][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878476|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=58035733), get digest:127eef78fd50ba423f512ece9ca14bba
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171438).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890878476).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=127eef78fd50ba423f512ece9ca14bba).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:38,478][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:38,480][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju4662CXnXBrrj71c1vQYDwUdKEbLTIRN6l5l7KG7EnxJh7g0mSaPcpK/5RpdebVmNSP2.
[2015-05-29 17:14:38,480][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878476|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:38,480][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,480][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878476|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=58035733), get digest:127eef78fd50ba423f512ece9ca14bba
[2015-05-29 17:14:38,480][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,480][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:38,480][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,493][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:38,493][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:38,493][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:38,493][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:38,495][Test worker][ERROR][TEPortServlet] Game(id=AIRTIME-1) isn't active.
com.mpos.lottery.te.config.exception.ApplicationException: Game(id=AIRTIME-1) isn't active.
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_InactiveGame(CoobillAirtimeTopupIntegrationTest.java:254)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:38,497][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878476|Timestamp:20150529171438|Transaction-Type:4455|Transaction-Id:0115052900000000002364|Response-Code:281|):e2d5252948e84d3399ded5579138ece5
[2015-05-29 17:14:38,497][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=281,length=0): 
[2015-05-29 17:14:38,505][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:38,506][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:38,506][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@7d8577b4) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:38,506][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:38,506][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,506][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NoStep                                                     |
[2015-05-29 17:14:38,506][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,507][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,507][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:38,508][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878506|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="71.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=510141965), get digest:ed4ff478d44c63928a2fd8ae3175f363
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171438).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890878506).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=ed4ff478d44c63928a2fd8ae3175f363).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:38,508][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:38,510][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju466K31VzErSex8LYn6Wy4r06yayNZV7ErW3WgzihmLUEOu0tqXTK7rDMmAWrPxzr91R.
[2015-05-29 17:14:38,510][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878506|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:38,510][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="71.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,510][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878506|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="71.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=510141965), get digest:ed4ff478d44c63928a2fd8ae3175f363
[2015-05-29 17:14:38,510][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,510][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:38,510][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,523][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:38,523][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:38,523][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:38,523][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:38,528][Test worker][ERROR][TEPortServlet] The amount(71.0) must follow the rule of step-amount(25).
com.mpos.lottery.te.config.exception.ApplicationException: The amount(71.0) must follow the rule of step-amount(25).
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.verifyGameParameter(MultiProviderAirtimeService.java:227)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NoStep(CoobillAirtimeTopupIntegrationTest.java:296)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:38,530][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878506|Timestamp:20150529171438|Transaction-Type:4455|Transaction-Id:0115052900000000002365|Response-Code:307|):73d7deb74c3caf9d3c47c8496fa5f785
[2015-05-29 17:14:38,531][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=307,length=0): 
[2015-05-29 17:14:38,539][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:38,540][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:38,540][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@96041ad) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:38,540][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:38,541][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,541][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_Remote_Fail                                                              |
[2015-05-29 17:14:38,541][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,543][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,544][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:38,544][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878543|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="333" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=534030482), get digest:3bd72a31ab5d99dbd02ae446cb44ff7b
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171438).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890878543).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=3bd72a31ab5d99dbd02ae446cb44ff7b).
[2015-05-29 17:14:38,544][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:38,545][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:38,545][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:38,546][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumo5rwd/8aI4MDJuuP6mtSx90swZ8pB+xV9sdLCk8OogEhiimjvEnGjOxmMN4sf0HQy+VyvHZOZDhHV3TDzI/XEl.
[2015-05-29 17:14:38,546][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878543|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:38,546][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="333" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,546][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878543|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="333" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=534030482), get digest:3bd72a31ab5d99dbd02ae446cb44ff7b
[2015-05-29 17:14:38,547][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,547][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:38,547][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,556][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:38,556][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:38,556][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:38,556][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:38,561][Test worker][DEBUG][DefaultBalanceService] Found the balance node(Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0])
[2015-05-29 17:14:38,562][Test worker][DEBUG][AirtimeProviderFactory] Found AirtimeProvider(com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CooBillAirtimeProvider@1a4b78bd) for airtime provider 1
[2015-05-29 17:14:38,563][Test worker][DEBUG][CooBillAirtimeProvider] Request of transaction(14328908785621646):com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.TopupMsisdnReq@263ddca5[agent=paygo24,password=20b7889cf6325b4644ab,msisdn=333,amout=6000,refTrx=14328908785621646]
[2015-05-29 17:14:38,599][Test worker][DEBUG][CooBillAirtimeProvider] Result of transaction(14328908785621646):com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.TopupMsisdnResult@99568a8[description=Failuer,status=1,transactionDate=20150529171438,transactionId=123456]
[2015-05-29 17:14:38,599][Test worker][WARN ][CooBillAirtimeProvider] Failed result of transaction(14328908785621646) from Coobill:Failuer
[2015-05-29 17:14:38,600][Test worker][ERROR][TEPortServlet] Failuer
com.mpos.lottery.te.config.exception.ApplicationException: Failuer
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_Remote_Fail(CoobillAirtimeTopupIntegrationTest.java:144)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:38,602][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878543|Timestamp:20150529171438|Transaction-Type:4455|Transaction-Id:0115052900000000002366|Response-Code:701|):b690ddcaa0a64e0df4c924efb047c549
[2015-05-29 17:14:38,602][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=701,length=0): 
[2015-05-29 17:14:38,616][Test worker][DEBUG][TEPortServlet] Startup job scheduer(org.quartz.impl.StdScheduler@4d1e5820) successfully.
[2015-05-29 17:14:38,617][Test worker][WARN ][TEPortServlet] can NOT find META file:F:\project\M.Lottery\TE\TRUNK_TE\sourcecode\build\classes\main\META-INF\MANIFEST.MF
[2015-05-29 17:14:38,617][Test worker][DEBUG][TEPortServlet] Register MBean(com.mpos.lottery.te.common.jmx.TransactionTimeout@64284994) with name(com.mpos.lottery.te:type=TransactionTimeoutMBean) successfully.
[2015-05-29 17:14:38,617][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:14:38,618][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,618][Test worker][INFO ][BaseTransactionalIntegrationTest] | CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NoEnoughSaleBalance                                        |
[2015-05-29 17:14:38,618][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:14:38,619][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,620][Test worker][DEBUG][CastorHelper] Finish marshaling input(typeclass com.mpos.lottery.te.valueaddservice.airtime.AirtimeTopup, mappingFile=xml-mapping/vas/airtime/Topup_Req.xml).
[2015-05-29 17:14:38,620][Test worker][DEBUG][BaseServletIntegrationTest] Do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878619|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=-1838377110), get digest:ec1dfb489b1d93d5bded36f68cee1a7b
[2015-05-29 17:14:38,620][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Transaction-Type, value=455).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Protocal-Version, value=1.5).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Timestamp, value=20150529171438).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPE-Id, value=GPE-111).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trace-Message-Id, value=1432890878619).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Operator-Id, value=OPERATOR-111).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Terminal-Id, value=111).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-MAC, value=ec1dfb489b1d93d5bded36f68cee1a7b).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Game-Type-Id, value=1000).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-Trans-BatchNumber, value=20150529).
[2015-05-29 17:14:38,621][Test worker][DEBUG][TEPortServlet] Got request header(name=X-GPS-Location, value=40.714353,-74.005973).
[2015-05-29 17:14:38,622][Test worker][DEBUG][TEPortServlet] Got request from localhost, and the message body is:pq3FqO8HCcAnaobA+xpVnADmrnwj1vrK59BGhqvtskYFWTsa2cbe6qqeM+/kjIzeKc3xm3Ymumq4BBKYbMRW35mzJ4Wju4662CXnXBrrj71c1vQYDwUdKEbLTIRN6l5l7KG7EnxJh7g0mSaPcpK/5RpdebVmNSP2.
[2015-05-29 17:14:38,623][Test worker][DEBUG][ProtocolSerializer] Start to deserialize request context(Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878619|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|).
[2015-05-29 17:14:38,623][Test worker][DEBUG][ProtocolSerializer] Finish decrypting cipher into original xml:<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>
[2015-05-29 17:14:38,623][Test worker][DEBUG][ProtocolSerializer] Start to do MAC(key=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF) on (Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878619|Timestamp:20150529171438|Transaction-Type:455|Transaction-Id:|Response-Code:|<?xml version="1.0" encoding="UTF-8"?>
<AirtimeTopup mobile="111" amount="60.0"><Game id="AIRTIME-1"/></AirtimeTopup>,hash=-1838377110), get digest:ec1dfb489b1d93d5bded36f68cee1a7b
[2015-05-29 17:14:38,623][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,623][Test worker][DEBUG][ProtocolSerializer] Start to deserialize model: model=null,mappingFile=xml-mapping/vas/airtime/Topup_Req.xml
[2015-05-29 17:14:38,623][Test worker][DEBUG][MLotteryContext] find mapping file definition(xml-mapping/vas/airtime/Topup_Req.xml) by key(transtype.455).
[2015-05-29 17:14:38,639][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_1.5.0).
[2015-05-29 17:14:38,639][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(1000_455_).
[2015-05-29 17:14:38,639][Test worker][DEBUG][RoutineRegistry] Try to lookup handler by routine key(-1_455_).
[2015-05-29 17:14:38,639][Test worker][DEBUG][RoutineRegistry] Lookup controller by key(-1_455_), found controller(com.mpos.lottery.te.valueaddservice.airtime.AirtimeController@52b28256) and method(public void com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(com.mpos.lottery.te.port.Context,com.mpos.lottery.te.port.Context) throws com.mpos.lottery.te.config.exception.ApplicationException).
[2015-05-29 17:14:38,643][Test worker][DEBUG][DefaultBalanceService] Found the balance node(Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=1, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0])
[2015-05-29 17:14:38,645][Test worker][ERROR][TEPortServlet] The sale balance (1) of Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=1, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0] isn't enough for transacion(amount=60.0).
com.mpos.lottery.te.config.exception.ApplicationException: The sale balance (1) of Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=1, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0] isn't enough for transacion(amount=60.0).
	at com.mpos.lottery.te.merchant.service.balance.DefaultBalanceService.lockAndVerifySaleBalance(DefaultBalanceService.java:108)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.verifyBalance(MultiProviderAirtimeService.java:212)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_IllegalAmount_NoEnoughSaleBalance(CoobillAirtimeTopupIntegrationTest.java:317)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2015-05-29 17:14:38,647][Test worker][DEBUG][ProtocolSerializer] Finish mac(macKey=P2Bbo6+bSSR9O2Qc89f3b4oHTyE1V2gF,macString=Protocal-Version:1.5|GPE_Id:GPE-111|Terminal-Id:111|Operator-Id:OPERATOR-111|Trans-BatchNumber:20150529|TractMsg-Id:1432890878619|Timestamp:20150529171438|Transaction-Type:4455|Transaction-Id:0115052900000000002367|Response-Code:327|):325a6bb1058ee9a234344df45b6b27e1
[2015-05-29 17:14:38,647][Test worker][DEBUG][BaseServletIntegrationTest] Got response(code=327,length=0): 
]]></system-out>
  <system-err><![CDATA[五月 29, 2015 5:14:07 下午 org.apache.cxf.configuration.spring.ConfigurerImpl getBeanName
信息: Could not determine bean name for instance of class org.apache.cxf.jaxws.JaxWsClientFactoryBean.
五月 29, 2015 5:14:07 下午 org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromWSDL
信息: Creating Service {http://tempuri.org/}RechargeMsisdnService from WSDL: http://localhost:9090/3rdparty/cb/
五月 29, 2015 5:14:08 下午 org.apache.cxf.configuration.spring.ConfigurerImpl getBeanName
信息: Could not determine bean name for instance of class org.apache.cxf.jaxws.JaxWsClientFactoryBean.
五月 29, 2015 5:14:08 下午 org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromWSDL
信息: Creating Service {http://tempuri.org/}RechargeMsisdnService from WSDL: http://localhost:9090/3rdparty/cb/
五月 29, 2015 5:14:38 下午 org.apache.cxf.phase.PhaseInterceptorChain doIntercept
警告: Interceptor has thrown exception, unwinding now
org.apache.cxf.interceptor.Fault: Could not send Message.
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:236)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:483)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:309)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:261)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at com.sun.proxy.$Proxy122.topupMsisdn(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CoobillClient.topupMsisdn(CoobillClient.java:55)
	at com.mpos.lottery.te.valueaddservice.airtime.support.spi.coobill.CooBillAirtimeProvider.topup(CooBillAirtimeProvider.java:69)
	at com.mpos.lottery.te.valueaddservice.airtime.service.MultiProviderAirtimeService.topup(MultiProviderAirtimeService.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy75.topup(Unknown Source)
	at com.mpos.lottery.te.valueaddservice.airtime.AirtimeController.topup(AirtimeController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.mpos.lottery.common.router.RoutineRegistry.route(RoutineRegistry.java:57)
	at com.mpos.lottery.te.port.service.CommonFacadeService.routeRequest(CommonFacadeService.java:237)
	at com.mpos.lottery.te.port.service.CommonFacadeService.facade(CommonFacadeService.java:96)
	at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy85.facade(Unknown Source)
	at com.mpos.lottery.te.port.TEPortServlet.doPost(TEPortServlet.java:121)
	at com.mpos.lottery.te.test.integration.BaseServletIntegrationTest.doPost(BaseServletIntegrationTest.java:80)
	at com.mpos.lottery.te.valueaddservice.airtime.CoobillAirtimeTopupIntegrationTest.test_Topup_Pending(CoobillAirtimeTopupIntegrationTest.java:181)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:233)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:87)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:176)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:86)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:49)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:69)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:48)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:105)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)
	at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
	at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:687)
	at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:633)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1323)
	at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:2081)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:2057)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1982)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:66)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:637)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
	... 107 more

五月 29, 2015 5:14:38 下午 org.apache.cxf.configuration.spring.ConfigurerImpl getBeanName
信息: Could not determine bean name for instance of class org.apache.cxf.jaxws.JaxWsClientFactoryBean.
五月 29, 2015 5:14:38 下午 org.apache.cxf.service.factory.ReflectionServiceFactoryBean buildServiceFromWSDL
信息: Creating Service {http://tempuri.org/}RechargeMsisdnService from WSDL: http://localhost:9090/3rdparty/cb/
]]></system-err>
</testsuite>
