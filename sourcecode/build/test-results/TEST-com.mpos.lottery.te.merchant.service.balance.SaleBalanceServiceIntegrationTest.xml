<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" tests="5" skipped="0" failures="0" errors="0" timestamp="2015-05-29T09:13:54" hostname="Ramon-PC" time="0.099">
  <properties/>
  <testcase name="testReduceSaleBalance_Operator_SaleByCreditCard" classname="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" time="0.024"/>
  <testcase name="testReduceSaleBalance_Operator" classname="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" time="0.016"/>
  <testcase name="testTopupSaleBalance_UseParent" classname="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" time="0.02"/>
  <testcase name="testReduceSaleBalance_UseParent" classname="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" time="0.018"/>
  <testcase name="testTopupSaleBalance_Operator" classname="com.mpos.lottery.te.merchant.service.balance.SaleBalanceServiceIntegrationTest" time="0.019"/>
  <system-out><![CDATA[[2015-05-29 17:13:54,160][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:13:54,160][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,160][Test worker][INFO ][BaseTransactionalIntegrationTest] | SaleBalanceServiceIntegrationTest.testReduceSaleBalance_Operator_SaleByCreditCard                                      |
[2015-05-29 17:13:54,160][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,170][Test worker][DEBUG][DefaultBalanceService] Operator before transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,170][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:13:54,170][Test worker][INFO ][SaleBalanceStrategy] The sale is paid by credit card, and merchant(Merchant [id=111, name=M-111, saleCreditLevel=100000000, payoutCreditLevel=1000, creditType=1, cashoutBalance=0, commisionBalance=0]) has been configured to no need to decut/topup sale balance for credit card sale...will ignore balance calculation
[2015-05-29 17:13:54,170][Test worker][DEBUG][DefaultBalanceService] Operator after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,179][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:13:54,180][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,180][Test worker][INFO ][BaseTransactionalIntegrationTest] | SaleBalanceServiceIntegrationTest.testReduceSaleBalance_Operator                                                       |
[2015-05-29 17:13:54,180][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,186][Test worker][DEBUG][DefaultBalanceService] Operator before transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,186][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:13:54,187][Test worker][DEBUG][DefaultBalanceService] Operator after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=199999800, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,193][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:13:54,194][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,194][Test worker][INFO ][BaseTransactionalIntegrationTest] | SaleBalanceServiceIntegrationTest.testTopupSaleBalance_UseParent                                                       |
[2015-05-29 17:13:54,194][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,203][Test worker][DEBUG][DefaultBalanceService] Ignore balance calculation of Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=4, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0], as its credit type is USE PARENT... check its parent merchant
[2015-05-29 17:13:54,206][Test worker][DEBUG][DefaultBalanceService] Merchant before transaction: Merchant [id=111, name=M-111, saleCreditLevel=100000000, payoutCreditLevel=1000, creditType=1, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,206][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:13:54,206][Test worker][DEBUG][DefaultBalanceService] Merchant after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=4, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,214][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:13:54,214][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,214][Test worker][INFO ][BaseTransactionalIntegrationTest] | SaleBalanceServiceIntegrationTest.testReduceSaleBalance_UseParent                                                      |
[2015-05-29 17:13:54,214][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,219][Test worker][DEBUG][DefaultBalanceService] Ignore balance calculation of Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=4, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0], as its credit type is USE PARENT... check its parent merchant
[2015-05-29 17:13:54,223][Test worker][DEBUG][DefaultBalanceService] Merchant before transaction: Merchant [id=111, name=M-111, saleCreditLevel=100000000, payoutCreditLevel=1000, creditType=1, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,223][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:13:54,223][Test worker][DEBUG][DefaultBalanceService] Merchant after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=4, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,235][Test worker][DEBUG][BaseTransactionalIntegrationTest] Retrieve a ApplicationContext(org.springframework.web.context.support.GenericWebApplicationContext@34f645a8: startup date [Fri May 29 17:12:38 CST 2015]; root of context hierarchy).
[2015-05-29 17:13:54,235][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,235][Test worker][INFO ][BaseTransactionalIntegrationTest] | SaleBalanceServiceIntegrationTest.testTopupSaleBalance_Operator                                                        |
[2015-05-29 17:13:54,235][Test worker][INFO ][BaseTransactionalIntegrationTest] +------------------------------------------------------------------------------------------------------------------------+
[2015-05-29 17:13:54,244][Test worker][DEBUG][DefaultBalanceService] Operator before transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000000, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
[2015-05-29 17:13:54,244][Test worker][DEBUG][DefaultBalanceService] Found balance strategy:com.mpos.lottery.te.merchant.service.balance.SaleBalanceStrategy@e1f8aba
[2015-05-29 17:13:54,244][Test worker][DEBUG][DefaultBalanceService] Operator after transaction -  Operator [id=OPERATOR-111, loginName=OPERATOR-LOGIN, creditType=1, saleCreditLevel=200000200, payoutCreditLevel=1000, cashoutBalance=0, commisionBalance=0]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
